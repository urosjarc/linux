#!/usr/bin/env python
"""
Description:
    Linux post installation helper.

Usage:
    linux install
    linux config
    linux report

Options:
    -h --help   Extensive help message.
"""

try:
    from subprocess import call
    from docopt import docopt
    from libs import install, report, config
    from apt.cache import LockFailedException

    if __name__ == '__main__':
        args = docopt(__doc__)
        if args['install']:
            install()
            config()
            report()

        elif args['report']:
            report()

        elif args['config']:
            config()

except KeyError as err:
    print('ERROR: ' + err.message)

except ImportError as err:
    print('ERROR: ' + err.message)
    if 'y'== raw_input('Do you want setup linux? (y/n): '):
        call("sudo pip install docopt==0.6.2 tabulate==0.7.5".split())
        call("sudo apt-get install python-apt".split())